var gdjs;(function(n){const f=new n.Logger("Filters");let u;(function(i){i.clampValue=function(t,e,r){return Math.max(e,Math.min(r,t))},i.clampKernelSize=function(t,e,r){const a=Math.round((r-e)/2+1),s=new Array(a);for(let o=0;o<a;o++)s[o]=e+2*o;return s.indexOf(t)!==-1?t:e};const l={};i.getFilterCreator=function(t){return l.hasOwnProperty(t)?l[t]:null},i.registerFilterCreator=function(t,e){l.hasOwnProperty(t)&&f.warn('Filter "'+t+'" was already registered in gdjs.PixiFiltersTools. Replacing it with the new one.'),l[t]=e},i.rgbOrHexToHexNumber=function(t){const e=t.split(";");return e.length===3?n.rgbToHexNumber(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)):parseInt(t.replace("#","0x"),16)};class P{makeFilter(e,r){const a=this.makePIXIFilter(e,r);return e.isLightingLayer&&e.isLightingLayer()&&(a.blendMode=PIXI.BLEND_MODES.ADD),new m(a,this)}}i.PixiFilterCreator=P;class m{constructor(e,r){this.pixiFilter=e,this.filterCreator=r}isEnabled(e){return this.pixiFilter.enabled}setEnabled(e,r){return this.pixiFilter.enabled=r}applyEffect(e){const r=e.getRendererObject();return r?(r.filters=(r.filters||[]).concat(this.pixiFilter),!0):!1}removeEffect(e){const r=e.getRendererObject();return r?(r.filters=(r.filters||[]).filter(a=>a!==this.pixiFilter),!0):!1}updatePreRender(e){this.filterCreator.updatePreRender(this.pixiFilter,e)}updateDoubleParameter(e,r){this.filterCreator.updateDoubleParameter(this.pixiFilter,e,r)}updateStringParameter(e,r){this.filterCreator.updateStringParameter(this.pixiFilter,e,r)}updateBooleanParameter(e,r){this.filterCreator.updateBooleanParameter(this.pixiFilter,e,r)}updateColorParameter(e,r){this.filterCreator.updateColorParameter(this.pixiFilter,e,r)}getDoubleParameter(e){return this.filterCreator.getDoubleParameter(this.pixiFilter,e)}getColorParameter(e){return this.filterCreator.getColorParameter(this.pixiFilter,e)}}i.PixiFilter=m;class F{isEnabled(e){return!1}setEnabled(e,r){return!1}applyEffect(e){return!1}removeEffect(e){return!1}updatePreRender(e){}updateDoubleParameter(e,r){}updateStringParameter(e,r){}updateBooleanParameter(e,r){}updateColorParameter(e,r){}getDoubleParameter(e){return 0}getColorParameter(e){return 0}}i.EmptyFilter=F})(u=n.PixiFiltersTools||(n.PixiFiltersTools={}))})(gdjs||(gdjs={}));
//# sourceMappingURL=pixi-filters-tools.js.map

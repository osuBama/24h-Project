var gdjs;(function(c){const v=new c.Logger("Tween");function _(h){return h.setScaleX&&h.setScaleY&&h.getScaleX&&h.getScaleY}function C(h){return h.setOpacity&&h.getOpacity}function p(h){return h.setColor&&h.getColor}function R(h){return h.setCharacterSize&&h.getCharacterSize}const w=c.evtTools.common.lerp,f=c.evtTools.common.exponentialInterpolation;class P extends c.RuntimeBehavior{constructor(e,t,n){super(e,t,n);this._tweens=new c.evtTools.tween.TweenManager;this._isActive=!0}updateFromBehaviorData(e,t){return!0}doStepPreEvents(e){this._tweens.step()}_deleteFromScene(){this.owner.deleteFromScene(this.owner.getInstanceContainer())}addVariableTween(e,t,n,o,i,r,s){this._tweens.addSimpleTween(e,this.owner.getRuntimeScene(),r/1e3,i,w,n,o,l=>t.setNumber(l),s?()=>this._deleteFromScene():null)}addVariableTween2(e,t,n,o,i,r){this._addVariableTween(e,t,n,o,i/1e3,r,this.owner.getRuntimeScene())}addVariableTween3(e,t,n,o,i,r){this._addVariableTween(e,t,n,o,i,r,this.owner)}_addVariableTween(e,t,n,o,i,r,s){t.getType()==="number"&&this._tweens.addSimpleTween(e,s,i,o,w,t.getValue(),n,l=>t.setNumber(l),r?()=>this._deleteFromScene():null)}addValueTween(e,t,n,o,i,r,s){this._tweens.addSimpleTween(e,this.owner,i,o,r?f:w,t,n,l=>{},s?()=>this._deleteFromScene():null)}addObjectPositionTween(e,t,n,o,i,r){this._addObjectPositionTween(e,t,n,o,i/1e3,r,this.owner.getRuntimeScene())}addObjectPositionTween2(e,t,n,o,i,r){this._addObjectPositionTween(e,t,n,o,i,r,this.owner)}_addObjectPositionTween(e,t,n,o,i,r,s){this._tweens.addMultiTween(e,s,i,o,w,[this.owner.getX(),this.owner.getY()],[t,n],([l,a])=>this.owner.setPosition(l,a),r?()=>this._deleteFromScene():null)}addObjectPositionXTween(e,t,n,o,i){this._addObjectPositionXTween(e,t,n,o/1e3,i,this.owner.getRuntimeScene())}addObjectPositionXTween2(e,t,n,o,i){this._addObjectPositionXTween(e,t,n,o,i,this.owner)}_addObjectPositionXTween(e,t,n,o,i,r){this._tweens.addSimpleTween(e,r,o,n,w,this.owner.getX(),t,s=>this.owner.setX(s),i?()=>this._deleteFromScene():null)}addObjectPositionYTween(e,t,n,o,i){this._addObjectPositionYTween(e,t,n,o/1e3,i,this.owner.getRuntimeScene())}addObjectPositionYTween2(e,t,n,o,i){this._addObjectPositionYTween(e,t,n,o,i,this.owner)}_addObjectPositionYTween(e,t,n,o,i,r){this._tweens.addSimpleTween(e,r,o,n,w,this.owner.getY(),t,s=>this.owner.setY(s),i?()=>this._deleteFromScene():null)}addObjectPositionZTween(e,t,n,o,i){const{owner:r}=this;r instanceof c.RuntimeObject3D&&this._tweens.addSimpleTween(e,this.owner.getRuntimeScene(),o/1e3,n,w,r.getZ(),t,s=>r.setZ(s),i?()=>this._deleteFromScene():null)}addObjectAngleTween(e,t,n,o,i){this._addObjectAngleTween(e,t,n,o/1e3,i,this.owner.getRuntimeScene())}addObjectAngleTween2(e,t,n,o,i){this._addObjectAngleTween(e,t,n,o,i,this.owner)}_addObjectAngleTween(e,t,n,o,i,r){this._tweens.addSimpleTween(e,r,o,n,w,this.owner.getAngle(),t,s=>this.owner.setAngle(s),i?()=>this._deleteFromScene():null)}addObjectScaleTween(e,t,n,o,i,r,s){this._addObjectScaleTween(e,t,n,o,i/1e3,r,s,this.owner.getRuntimeScene(),w)}addObjectScaleTween2(e,t,n,o,i,r,s){this._addObjectScaleTween(e,t,n,o,i,r,s,this.owner,f)}_addObjectScaleTween(e,t,n,o,i,r,s,l,a){const d=this.owner;if(!_(d))return;t<0&&(t=0),n<0&&(n=0);const g=s?([b,T])=>{const m=d.getCenterXInScene(),u=d.getCenterYInScene();d.setScaleX(b),d.setScaleY(T),d.setCenterPositionInScene(m,u)}:([b,T])=>{d.setScaleX(b),d.setScaleY(T)};this._tweens.addMultiTween(e,l,i,o,a,[d.getScaleX(),d.getScaleY()],[t,n],g,r?()=>this._deleteFromScene():null)}addObjectScaleXTween(e,t,n,o,i,r){this._addObjectScaleXTween(e,t,n,o/1e3,i,r,this.owner.getRuntimeScene(),w)}addObjectScaleXTween2(e,t,n,o,i,r){this._addObjectScaleXTween(e,t,n,o,i,r,this.owner,f)}_addObjectScaleXTween(e,t,n,o,i,r,s,l){const a=this.owner;if(!_(a))return;const d=r?g=>{const b=a.getCenterXInScene();a.setScaleX(g),a.setCenterXInScene(b)}:g=>a.setScaleX(g);this._tweens.addSimpleTween(e,s,o,n,l,a.getScaleX(),t,d,i?()=>this._deleteFromScene():null)}addObjectScaleYTween(e,t,n,o,i,r){this._addObjectScaleYTween(e,t,n,o/1e3,i,r,this.owner.getRuntimeScene(),w)}addObjectScaleYTween2(e,t,n,o,i,r){this._addObjectScaleYTween(e,t,n,o,i,r,this.owner,f)}_addObjectScaleYTween(e,t,n,o,i,r,s,l){const a=this.owner;if(!_(a))return;const d=r?g=>{const b=a.getCenterYInScene();a.setScaleY(g),a.setCenterYInScene(b)}:g=>a.setScaleY(g);this._tweens.addSimpleTween(e,s,o,n,l,a.getScaleY(),t,d,i?()=>this._deleteFromScene():null)}addObjectOpacityTween(e,t,n,o,i){this._addObjectOpacityTween(e,t,n,o/1e3,i,this.owner.getRuntimeScene())}addObjectOpacityTween2(e,t,n,o,i){this._addObjectOpacityTween(e,t,n,o,i,this.owner)}_addObjectOpacityTween(e,t,n,o,i,r){const s=this.owner;!C(s)||this._tweens.addSimpleTween(e,r,o,n,w,s.getOpacity(),t,l=>s.setOpacity(l),i?()=>this._deleteFromScene():null)}addNumberEffectPropertyTween(e,t,n,o,i,r,s,l){const a=this.owner.getRendererEffects()[o];a||v.error(`The object "${this.owner.name}" doesn't have any effect called "${o}"`),this._tweens.addSimpleTween(t,this.owner,s,r,w,a?a.getDoubleParameter(i):0,n,d=>{a&&a.updateDoubleParameter(i,d)},l?()=>this._deleteFromScene():null)}addColorEffectPropertyTween(e,t,n,o,i,r,s,l){const a=this.owner.getRendererEffects()[o];a||v.error(`The object "${this.owner.name}" doesn't have any effect called "${o}"`);const d=c.hexNumberToRGB(a?a.getColorParameter(i):0),g=c.rgbOrHexToRGBColor(n);this._tweens.addMultiTween(t,this.owner,s,r,w,c.evtTools.tween.rgbToHsl(d.r,d.g,d.b),c.evtTools.tween.rgbToHsl(g[0],g[1],g[2]),([b,T,m])=>{if(a){const u=c.evtTools.tween.hslToRgb(b,T,m);a.updateColorParameter(i,c.rgbToHexNumber(u[0],u[1],u[2]))}},l?()=>this._deleteFromScene():null)}addObjectColorTween(e,t,n,o,i,r){this._addObjectColorTween(e,t,n,o/1e3,i,r,this.owner.getRuntimeScene())}addObjectColorTween2(e,t,n,o,i,r=!0){this._addObjectColorTween(e,t,n,o,i,r,this.owner)}_addObjectColorTween(e,t,n,o,i,r,s){const l=this.owner;if(!p(l))return;const a=c.rgbOrHexToRGBColor(l.getColor()),d=c.rgbOrHexToRGBColor(t);let g,b,T;r?(g=c.evtTools.tween.rgbToHsl(a[0],a[1],a[2]),b=c.evtTools.tween.rgbToHsl(d[0],d[1],d[2]),T=([m,u,S])=>{const j=c.evtTools.tween.hslToRgb(m,u,S);l.setColor(Math.floor(j[0])+";"+Math.floor(j[1])+";"+Math.floor(j[2]))}):(g=a,b=d,T=([m,u,S])=>{l.setColor(Math.floor(m)+";"+Math.floor(u)+";"+Math.floor(S))}),this._tweens.addMultiTween(e,s,o,n,w,g,b,T,i?()=>this._deleteFromScene():null)}addObjectColorHSLTween(e,t,n,o,i,r,s,l){this._addObjectColorHSLTween(e,t,n,o,i,r,s/1e3,l,this.owner.getRuntimeScene())}addObjectColorHSLTween2(e,t,n,o,i,r,s,l){this._addObjectColorHSLTween(e,t,n,o,i,r,s,l,this.owner)}_addObjectColorHSLTween(e,t,n,o,i,r,s,l,a){if(!p(this.owner))return;const d=this.owner,g=d.getColor().split(";");if(g.length<3)return;const b=c.evtTools.tween.rgbToHsl(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])),T=n?t:b[0],m=o===-1?b[1]:Math.min(Math.max(o,0),100),u=i===-1?b[2]:Math.min(Math.max(i,0),100);this._tweens.addMultiTween(e,a,s,r,w,b,[T,m,u],([S,j,F])=>{const O=c.evtTools.tween.hslToRgb(S,j,F);d.setColor(Math.floor(O[0])+";"+Math.floor(O[1])+";"+Math.floor(O[2]))},l?()=>this._deleteFromScene():null)}addTextObjectCharacterSizeTween(e,t,n,o,i){this._addTextObjectCharacterSizeTween(e,t,n,o/1e3,i,this.owner.getRuntimeScene(),w)}addTextObjectCharacterSizeTween2(e,t,n,o,i){this._addTextObjectCharacterSizeTween(e,t,n,o,i,this.owner,f)}_addTextObjectCharacterSizeTween(e,t,n,o,i,r,s){const l=this.owner;!R(l)||this._tweens.addSimpleTween(e,r,o,n,s,l.getCharacterSize(),t,a=>l.setCharacterSize(a),i?()=>this._deleteFromScene():null)}addObjectWidthTween(e,t,n,o,i){this._addObjectWidthTween(e,t,n,o/1e3,i,this.owner.getRuntimeScene())}addObjectWidthTween2(e,t,n,o,i){this._addObjectWidthTween(e,t,n,o,i,this.owner)}_addObjectWidthTween(e,t,n,o,i,r){this._tweens.addSimpleTween(e,r,o,n,w,this.owner.getWidth(),t,s=>this.owner.setWidth(s),i?()=>this._deleteFromScene():null)}addObjectHeightTween(e,t,n,o,i){this._addObjectHeightTween(e,t,n,o/1e3,i,this.owner.getRuntimeScene())}addObjectHeightTween2(e,t,n,o,i){this._addObjectHeightTween(e,t,n,o,i,this.owner)}_addObjectHeightTween(e,t,n,o,i,r){this._tweens.addSimpleTween(e,r,o,n,w,this.owner.getHeight(),t,s=>this.owner.setHeight(s),i?()=>this._deleteFromScene():null)}addObjectDepthTween(e,t,n,o,i){const{owner:r}=this;r instanceof c.RuntimeObject3D&&this._tweens.addSimpleTween(e,this.owner.getRuntimeScene(),o/1e3,n,w,r.getDepth(),t,s=>r.setDepth(s),i?()=>this._deleteFromScene():null)}isPlaying(e){return this._tweens.isPlaying(e)}exists(e){return this._tweens.exists(e)}hasFinished(e){return this._tweens.hasFinished(e)}pauseTween(e){this._isActive&&this._tweens.pauseTween(e)}stopTween(e,t){this._isActive&&this._tweens.stopTween(e,t)}resumeTween(e){this._isActive&&this._tweens.resumeTween(e)}removeTween(e){this._tweens.removeTween(e)}getProgress(e){return this._tweens.getProgress(e)}getValue(e){return this._tweens.getValue(e)}onDeActivate(){this._isActive=!1}onActivate(){this._isActive=!0}}c.TweenRuntimeBehavior=P,c.registerBehavior("Tween::TweenBehavior",c.TweenRuntimeBehavior)})(gdjs||(gdjs={}));
//# sourceMappingURL=tweenruntimebehavior.js.map
